{{ $base := resources.Get "opengraph.png" }}
{{ $boldFont := resources.Get "/JetBrainsMono-Bold.ttf" }}
{{ $mediumFont := resources.Get "/JetBrainsMono-Medium.ttf" }}

{{ $img := $base.Filter (images.Text .Page.Title (dict
        "aligny" "center"
        "color" "#ffffff"
        "size" 100
        "linespacing" 5
        "x" 70
        "y" 450
        "font" $boldFont
        )) }}

{{ $img = resources.Copy (path.Join .Page.RelPermalink "gen.png") $img }}
{{ $img = $img.Resize "1200x630" }}
{{ $img = $img.Fill "1200x630" }}

{{- if hugo.IsProduction -}}
    {{- $img = $img.EmbedFingerprint -}}
{{- end -}}

{{- return $img -}}